(function(t){function e(e){for(var n,r,c=e[0],o=e[1],l=e[2],m=0,v=[];m<c.length;m++)r=c[m],s[r]&&v.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(v.length)v.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,c=1;c<i.length;c++){var o=i[c];0!==s[o]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"11a0":function(t,e,i){"use strict";var n=i("1e69"),s=i.n(n);s.a},"1e69":function(t,e,i){},"22c4":function(t,e,i){},"24b6":function(t,e,i){},2949:function(t,e,i){"use strict";var n=i("6519"),s=i.n(n);s.a},"4abe":function(t,e,i){"use strict";var n=i("d9c8"),s=i.n(n);s.a},5564:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-view")},a=[],r=i("2877"),c={},o=Object(r["a"])(c,s,a,!1,null,null,null),l=o.exports,u=i("8c4f"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-container"},[i("header",[t._v("猫眼电影")]),i("main",[i("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("router-view",{staticClass:"outlet"})],1)],1),i("nav",[i("ul",[i("router-link",{attrs:{to:"/movies",tag:"li","active-class":"active"}},[i("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"}},[i("title",[t._v("电影1")]),i("g",{attrs:{"fill-rule":"evenodd"}},[i("path",{attrs:{d:"M24.994 47c-.71 0-1.422-.034-2.136-.102C12.445 45.913 4.14 37.645 3.11 27.24c-.657-6.63 1.65-13.115 6.332-17.796 4.68-4.68 11.162-6.992 17.796-6.333 10.36 1.027 18.624 9.29 19.65 19.65.592 5.984-1.192 11.796-5.022 16.365-.162.193-.158.463.007.63l3.425 3.424c.586.584.586 1.534 0 2.12-.586.586-1.535.586-2.12 0l-3.426-3.425c-1.274-1.273-1.353-3.284-.185-4.677 3.307-3.946 4.847-8.97 4.335-14.142-.886-8.942-8.018-16.074-16.96-16.96-5.732-.562-11.336 1.426-15.38 5.47-4.042 4.042-6.034 9.647-5.467 15.378.89 8.98 8.058 16.117 17.045 16.968 3.867.37 7.68-.417 11.03-2.267.725-.4 1.637-.138 2.037.588.4.725.137 1.638-.588 2.038-3.26 1.8-6.896 2.73-10.626 2.73"}}),i("path",{attrs:{d:"M28 16c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3M28 34c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3M34 28c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3M16 28c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3"}})])]),i("b",[t._v("电影")])]),i("router-link",{attrs:{to:"/theaters",tag:"li","active-class":"active"}},[i("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"}},[i("title",[t._v("影院1")]),i("g",{attrs:{fill:"#696969","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M40.5 45h-31c-.83 0-1.5-.67-1.5-1.5S8.67 42 9.5 42h31c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5M9.4 8C8.077 8 7 9.077 7 10.4v23.217l7.484-11.388c.27-.414.728-.666 1.22-.677.517-.027.96.222 1.25.622.098.133 2.608 3.435 7.884 3.435 5.358 0 8.192-3.738 8.22-3.776.293-.396.75-.633 1.255-.605.492.015.944.272 1.21.686L43 33.53V10.395C43 9.075 41.926 8 40.606 8H9.4zm35.1 32.13c-.5 0-.98-.25-1.26-.687l-9.214-14.31c-1.664 1.47-4.75 3.477-9.188 3.477-4.353 0-7.278-1.805-8.872-3.174l-9.212 14.02c-.364.553-1.05.802-1.684.612-.635-.19-1.07-.774-1.07-1.437V10.4C4 7.422 6.422 5 9.4 5h31.206C43.58 5 46 7.42 46 10.395V38.63c0 .667-.438 1.253-1.077 1.44-.14.042-.282.06-.423.06z"}})])]),i("b",[t._v("影院")])]),i("router-link",{attrs:{to:"profile",tag:"li","active-class":"active"}},[i("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"}},[i("title",[t._v("我的1")]),i("g",{attrs:{fill:"#696969","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M19.916 35.913c-.014-.016-.02-.036-.033-.05-.314-.32-.737-.455-1.153-.432C13.586 33.066 10 27.9 10 21.908 10 13.687 16.728 7 25 7c8.27 0 15 6.687 15 14.907 0 8.22-6.73 14.906-15 14.906-1.787 0-3.493-.328-5.084-.9zm14.502 1.225C39.558 33.98 43 28.343 43 21.908 43 12.032 34.925 4 25 4S7 12.033 7 21.907c0 6.657 3.68 12.466 9.113 15.552l-6.086 5.97c-.59.58-.6 1.53-.02 2.12.294.3.682.45 1.07.45.38 0 .76-.143 1.052-.43l6.916-6.785c1.867.654 3.865 1.028 5.954 1.028 2.324 0 4.54-.455 6.58-1.256l7.15 7.014c.292.287.672.43 1.05.43.39 0 .78-.15 1.072-.45.58-.59.57-1.54-.02-2.12l-6.414-6.292z"}}),i("path",{attrs:{d:"M30.358 25.068c-.77-.31-1.642.064-1.95.832-.554 1.375-1.89 2.263-3.408 2.263-1.503 0-2.835-.877-3.395-2.234-.316-.766-1.19-1.13-1.96-.815-.765.316-1.13 1.193-.813 1.96 1.024 2.483 3.446 4.088 6.168 4.088 2.75 0 5.178-1.627 6.19-4.144.31-.77-.063-1.643-.832-1.952"}})])]),i("b",[t._v("我的")])])],1)])])},v=[],d={data:function(){return{}}},f=d,h=(i("4abe"),Object(r["a"])(f,m,v,!1,null,"3e0a83ae",null)),p=h.exports,g=(i("642c"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n  theater\n")])}),b=[],C={},w=Object(r["a"])(C,g,b,!1,null,null,null),x=w.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n  Profile\n")])},k=[],j={},O=Object(r["a"])(j,y,k,!1,null,null,null),$=O.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"tab-content",attrs:{id:"intheater-scroll"}},[i("div",{staticClass:"page n-hot active"},[i("div",{staticClass:"list-wrap"},t._l(t.movieList,function(t){return i("MovieItem",{key:t.id,attrs:{movie:t,from:"intheaters"}})}),1)])])])},R=[],M=(i("96cf"),i("3b8d")),T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item",on:{click:function(e){return t.handleClick(t.movie.id,t.movie.nm)}}},[i("div",{staticClass:"main-block"},[i("div",{staticClass:"avatar"},[i("div",{staticClass:"default-img-bg"},[i("img",{attrs:{src:t._f("replace")(t.movie.img,"192.270"),width:"64",height:"90",onerror:"this.style.visibility='hidden'"}})])]),i("div",{staticClass:"mb-outline-b content-wrapper"},[i("div",{staticClass:"column content"},[i("div",{staticClass:"box-flex movie-title"},[i("div",{staticClass:"title line-ellipsis v3dimax_title"},[t._v(t._s(t.movie.nm))]),i("span",{staticClass:"version",class:t.movie.version})]),i("div",{staticClass:"detail column"},["intheaters"===t.from?i("div",{staticClass:"score line-ellipsis"},[i("span",{staticClass:"score-suffix"},[t._v("观众评 ")]),i("span",{staticClass:"grade"},[t._v(t._s(t.movie.sc))])]):i("div",{staticClass:"wantsee line-ellipsis"},[i("span",{staticClass:"person"},[t._v(t._s(t.movie.wish))]),i("span",{staticClass:"p-suffix"},[t._v("人想看")])]),i("div",{staticClass:"actor line-ellipsis"},[t._v("主演: "+t._s(t.movie.star))]),i("div",{staticClass:"show-info line-ellipsis"},[t._v(t._s(t.movie.showInfo||"暂无"))])])]),i("movie-button",{attrs:{movie:t.movie}})],1)])])},L=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"button-block",attrs:{"data-id":"1198925"}},[i("div",{staticClass:"btn",class:t.type,attrs:{"data-wishst":t.movie.wishst}},[i("span",{staticClass:"fix",attrs:{"data-bid":"dp_wx_home_movie_btn"}},[t._v(t._s(t.text))])])])},P=[],D={props:["movie"],computed:{text:function(){return 3==this.movie.showst?"购票":4==this.movie.showst?"预售":"想看"},type:function(){return 3==this.movie.showst?"normal":4==this.movie.showst?"pre":"toggle-wish-btn"}}},F=D,I=(i("11a0"),Object(r["a"])(F,S,P,!1,null,"ffe91b76",null)),z=I.exports,q={props:{movie:Object,from:String},components:{MovieButton:z},methods:{handleClick:function(t,e){this.$router.push({name:"detail",params:{id:t,nm:e}})}}},B=q,N=(i("2949"),Object(r["a"])(B,T,L,!1,null,"6460203e",null)),H=N.exports,U=(i("7f7f"),function(t,e){"detail"!==t.name&&(e.$store.commit("setPosition",0),e.$store.commit("setFirstData",{}),e.$store.commit("resetPage"))}),V={components:{MovieItem:H},beforeRouteLeave:function(t,e,i){U(t,this),i()},computed:{movieList:function(){return this.$store.state.data.movieList}},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.scroll({vm:this,container:"#intheater-scroll",params:{firstReq:{url:"/ajax/movieOnInfoList",params:{token:""}},moreReq:{url:"/ajax/moreComingList",params:{token:""}}}});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},X=V,A=(i("cb20"),Object(r["a"])(X,E,R,!1,null,"37a7c00f",null)),J=A.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"tab-content",attrs:{id:"comingsoon-scroll"}},[i("div",{staticClass:"page f-hot active",attrs:{"data-hot":".f-hot","data-cid":"c_3j5p10oz"}},[i("div",{staticClass:"list-wrap",staticStyle:{"margin-top":"0px"}},[i("most-expect"),i("div",{staticClass:"coming-list"},[i("movie-list",{attrs:{list:t.movieList}})],1)],1),i("div",{staticClass:"more"})])])])},G=[],K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"most-expected"},[i("p",{staticClass:"title"},[t._v("近期最受期待")]),0==t.list.length?i("div",{staticClass:"spinner"},[i("mt-spinner",{attrs:{type:"snake"}})],1):t._e(),i("div",{staticClass:"most-expected-list"},[i("div",t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"expected-item"},[i("div",{staticClass:"poster default-img-bg"},[i("img",{attrs:{src:t._f("replace")(e.img,"170.230")}}),i("span",{staticClass:"wish-bg"}),i("span",{staticClass:"wish"},[i("span",{staticClass:"wish-num"},[t._v(t._s(e.wish))]),t._v("人想看\n          ")]),t._m(0,!0)]),i("h5",{staticClass:"name line-ellipsis"},[t._v(t._s(e.nm))]),i("p",{staticClass:"date"},[t._v(t._s(e.comingTitle))])])}),0)])])},Q=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toggle-wish",attrs:{"data-wishst":"0","data-movieid":"1218141"}},[i("span")])}],W=i("bd86"),Z=(i("c6f8"),i("e8c9")),tt=i.n(Z),et=(i("5fc6"),i("5af2")),it=i.n(et),nt=i("75fc"),st=(i("ceaa"),i("b2fb")),at=i.n(st),rt=i("bc3a"),ct=i.n(rt),ot={get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,i=void 0===e?"":e,n=t.params,s=void 0===n?{}:n;return ct()({url:i,method:"GET",params:s}).then(function(t){return t.data}).catch(function(t){console.log(0)})}},lt=ot,ut=i("d2b4"),mt={data:function(){return{list:[]}},created:function(){this.page=0,this.pagesize=10,this.isFinished=!0},methods:{loadData:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt.get({url:"/ajax/mostExpected",params:{ci:1,limit:i,offset:e*i,token:""}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),scroll:function(){var t=this,e=new ut["a"](".most-expected-list",{scrollX:!0,scrollY:!1});e.on("scrollEnd",Object(M["a"])(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isFinished){e.next=9;break}if(t.isFinished=!1,!(this.maxScrollX-this.x>=0&&t.page<3)){e.next=9;break}return at.a.open(),e.next=6,t.loadData(t.page,t.pagesize);case 6:i=e.sent,t.list=[].concat(Object(nt["a"])(t.list),Object(nt["a"])(i.coming)),t.$nextTick(function(){t.page++,t.isFinished=!0,at.a.close()});case 9:t.page>=3&&this.maxScrollX-this.x>=0&&it()({message:"没有更多了~",position:"right",duration:2e3});case 10:case"end":return e.stop()}},e,this)})))}},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData(this.page,this.pagesize);case 2:e=t.sent,this.list=e.coming,this.page++,this.$nextTick(function(){i.scroll()});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),components:Object(W["a"])({},tt.a.name,tt.a)},vt=mt,dt=(i("d7f2"),Object(r["a"])(vt,K,Q,!1,null,"76e78989",null)),ft=dt.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.movieList,function(e,n){return i("div",{key:n},[i("p",{staticClass:"group-date"},[t._v(t._s(n))]),t._l(e,function(t){return i("movie-item",{key:t.id,attrs:{movie:t}})})],2)}),0)},pt=[],gt=i("2ef0"),_t=i.n(gt),bt={props:["list"],data:function(){return{}},mounted:function(){},components:{MovieItem:H},computed:{movieList:function(){var t=_t.a.groupBy(this.list,function(t){return t["comingTitle"]||"正在热映"});return t}}},Ct=bt,wt=Object(r["a"])(Ct,ht,pt,!1,null,null,null),xt=wt.exports,yt={computed:{movieList:function(){return this.$store.state.data.coming}},beforeRouteLeave:function(t,e,i){U(t,this),i()},components:{MostExpect:ft,MovieList:xt},mounted:function(){this.scroll({vm:this,container:"#comingsoon-scroll",params:{firstReq:{url:"/ajax/comingList",params:{token:"",limit:12,ci:1}},moreReq:{url:"/ajax/moreComingList",params:{token:""}}}})}},kt=yt,jt=(i("dc28"),Object(r["a"])(kt,Y,G,!1,null,"47d708d8",null)),Ot=jt.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-container"},[i("header",[i("i",{staticClass:"icon-back",on:{click:t.handleClick}}),i("b",[t._v(t._s(t.movie.nm))])])])},Et=[],Rt={data:function(){return{movie:{}}},created:function(){this.movie.nm=this.$route.params.nm},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt.get({url:"/ajax/detailmovie",params:{movieId:this.$route.params.id}});case 2:e=t.sent,this.movie=e.detailMovie;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),activated:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.movie.nm=this.$route.params.nm;case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{handleClick:function(){this.$router.go(-1)}}},Mt=Rt,Tt=(i("e297"),Object(r["a"])(Mt,$t,Et,!1,null,null,null)),Lt=Tt.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"city-list-container",staticStyle:{display:"block"},attrs:{id:"city-list"}},[i("div",[t._m(0),t._m(1),i("section",[i("div",{staticClass:"city-title",attrs:{id:"hot"}},[t._v("\n            热门城市\n          ")]),i("div",{staticClass:"city-list city-list-inline clearfix"},t._l(t.hotCities,function(e){return i("div",{key:e.id,staticClass:"city-item",on:{click:function(i){return t.pickCity(e.name)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])}),0)]),i("section",t._l(t.cities,function(e,n){return i("div",{key:n},[i("div",{staticClass:"city-title city-title-letter",attrs:{id:n}},[t._v("\n              "+t._s(n)+"\n            ")]),i("div",{staticClass:"city-list city-list-block clearfix"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"city-item",on:{click:function(i){return t.pickCity(e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])}),0)])}),0)])]),i("section",{staticClass:"nav",staticStyle:{"z-index":"10000"}},[i("div",{staticClass:"nav-item",attrs:{"data-id":"locate"},on:{click:function(e){return t.scrollToElement("#locate")}}},[t._v("\n        定位\n      ")]),i("div",{staticClass:"nav-item",attrs:{"data-id":"history"},on:{click:function(e){return t.scrollToElement("#history")}}},[t._v("\n        最近\n      ")]),i("div",{staticClass:"nav-item",attrs:{"data-id":"hot"},on:{click:function(e){return t.scrollToElement("#hot")}}},[t._v("\n        热门\n      ")]),t._l(t.cities,function(e,n){return i("div",{key:n,ref:n,refInFor:!0,staticClass:"nav-letter nav-item",on:{click:function(e){return t.scrollToElement("#"+n)},touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:t.handleTouchEnd}},[t._v("\n        "+t._s(n)+"\n      ")])})],2)])},Pt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"city-title",attrs:{id:"locate"}},[t._v("\n            定位城市\n          ")]),i("div",{staticClass:"city-list city-list-inline clearfix"},[i("div",{staticClass:"location-city"},[t._v("定位失败，请点击重试")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"history-city-list"},[i("div",{staticClass:"city-title",attrs:{id:"history"}},[t._v("\n            最近访问城市\n          ")]),i("div",{staticClass:"city-list city-list-inline clearfix"},[i("div",{staticClass:"city-item",attrs:{"data-nm":"北京","data-id":"1"}},[t._v("\n              北京\n            ")])])])}],Dt=(i("ac6a"),i("456d"),i("2f62")),Ft={data:function(){return{hotCities:[],cities:{}}},methods:{scrollToElement:function(t){this.bScroll.scrollToElement(t)},pickCity:function(t){this.$store.commit("setCity",t),this.$router.push("/")},handleTouchStart:function(){this.touch=!0},handleTouchMove:function(t){if(this.touch){var e=t.touches[0].clientY,i=Math.floor((e-this.hotpoisition)/this.alphabetaHeight),n=Object.keys(this.cities);this.scrollToElement("#".concat(n[i-1]))}},handleTouchEnd:function(){this.touch=!1}},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt.get({url:"/cities.json"});case 2:e=t.sent,this.hotCities=e.hotCities,this.cities=e.cities,this.$nextTick(function(){i.bScroll=new ut["a"]("#city-list",{click:!0}),i.hotpoisition=i.$refs["A"][0].getBoundingClientRect()["y"],i.alphabetaHeight=i.$refs["A"][0].offsetHeight});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},It=Ft,zt=Object(r["a"])(It,St,Pt,!1,null,null,null),qt=zt.exports;n["default"].use(u["a"]);var Bt=[{path:"/",redirect:"/movies",component:p,children:[{path:"/movies",name:"movies",component:function(){return Promise.resolve().then(i.bind(null,"642c"))},redirect:"/movies/intheater",children:[{path:"intheater",name:"intheater",component:J,meta:1},{path:"comingsoon",name:"comingsoon",component:Ot,meta:2}]},{path:"/theaters",name:"theaters",component:x},{path:"/profile",name:"profile",component:$}]},{path:"/detail/:id",name:"detail",component:Lt},{path:"/city",name:"city",component:qt}],Nt=new u["a"]({routes:Bt});n["default"].use(Dt["a"]);var Ht=new Dt["a"].Store({state:{position:0,page:0,data:{},city:"北京"},mutations:{setPosition:function(t,e){t.position=e},setPage:function(t){t.page++},resetPage:function(t){t.page=0},setFirstData:function(t,e){t.data=e},setMoreData:function(t,e){t.data.movieList?t.data.movieList=[].concat(Object(nt["a"])(t.data.movieList),Object(nt["a"])(e)):t.data.coming=[].concat(Object(nt["a"])(t.data.coming),Object(nt["a"])(e))},setCity:function(t,e){t.city=e}},actions:{loadFirstData:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(e,i){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,lt.get(i.firstReq);case 3:s=t.sent,n("setFirstData",s);case 5:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),loadMoreData:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(e,i){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,lt.get(i);case 3:s=t.sent,n("setMoreData",s.coming);case 5:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}()}}),Ut=Ht,Vt=(i("a3a9"),i("5564"),i("77ed"),i("a481"),function(t,e){return t.replace("w.h",e)});n["default"].filter("replace",Vt),n["default"].mixin({methods:{scroll:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(e){var i,n,s,a,r,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.vm,n=e.container,s=e.params,i.$store.state.data.movieList||i.$store.state.data.coming){t.next=6;break}return at.a.open(),t.next=5,i.$store.dispatch("loadFirstData",s);case 5:at.a.close();case 6:a=new ut["a"](n,{pullUpLoad:!0,click:!0}),a.scrollTo(0,i.$store.state.position),r=i.$store.state.data.movieIds,c=_.chunk(r.slice(12),10),a.on("pullingUp",Object(M["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.$store.state.page,!(e<c.length)){t.next=9;break}return n=_.merge(s.moreReq,{params:{movieIds:c[e].join(",")}}),at.a.open(),t.next=6,i.$store.dispatch("loadMoreData",n);case 6:i.$nextTick(function(){a.refresh(),a.finishPullUp(),at.a.close(),i.$store.commit("setPage")}),t.next=11;break;case 9:this.finishPullUp(),it()({message:"到底了~",position:"bottom",duration:2e3});case 11:case"end":return t.stop()}},t,this)}))),a.on("scrollEnd",function(){i.$store.commit("setPosition",this.y)});case 12:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}}),n["default"].config.productionTip=!1,new n["default"]({store:Ut,router:Nt,render:function(t){return t(l)}}).$mount("#app")},"575e":function(t,e,i){},"642c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movies-container"},[i("Nav"),i("transition",{attrs:{name:t.transitionName}},[i("router-view")],1)],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"topbar"},[i("div",{staticClass:"white-bg topbar-bg"},[i("div",{staticClass:"city-entry",on:{click:t.handleClick}},[i("span",{staticClass:"city-name"},[t._v(t._s(t.city))]),i("i",{staticClass:"city-entry-arrow"})]),i("div",{staticClass:"switch-hot"},[i("router-link",{staticClass:"hot-item",attrs:{tag:"div",to:"/movies/intheater","active-class":"active"}},[t._v("正在热映")]),i("router-link",{staticClass:"hot-item",attrs:{tag:"div",to:"/movies/comingsoon","active-class":"active"}},[t._v("即将上映")])],1),i("div",{staticClass:"search-entry search-icon"})])])},r=[],c=i("cebc"),o=i("2f62"),l={computed:Object(c["a"])({},Object(o["b"])(["city"])),methods:{handleClick:function(){this.$router.push("/city")}}},u=l,m=(i("f2fa"),i("2877")),v=Object(m["a"])(u,a,r,!1,null,null,null),d=v.exports,f={data:function(){return{transitionName:""}},components:{Nav:d},watch:{$route:function(t,e){this.transitionName=t.meta>e.meta?"slide-left":"slide-right"}}},h=f,p=(i("c878"),Object(m["a"])(h,n,s,!1,null,null,null));e["default"]=p.exports},6519:function(t,e,i){},9646:function(t,e,i){},a3a9:function(t,e,i){},a7f7:function(t,e,i){},b943:function(t,e,i){},c878:function(t,e,i){"use strict";var n=i("9646"),s=i.n(n);s.a},cb20:function(t,e,i){"use strict";var n=i("22c4"),s=i.n(n);s.a},d7f2:function(t,e,i){"use strict";var n=i("b943"),s=i.n(n);s.a},d9c8:function(t,e,i){},dc28:function(t,e,i){"use strict";var n=i("575e"),s=i.n(n);s.a},e297:function(t,e,i){"use strict";var n=i("24b6"),s=i.n(n);s.a},f2fa:function(t,e,i){"use strict";var n=i("a7f7"),s=i.n(n);s.a}});
//# sourceMappingURL=app.9b880ce6.js.map